<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <style>
    canvas {
      border: 1px solid #000;
    }
  </style>
</head>

<body>
  <canvas width="300" height="300">您的浏览器不支持canvas</canvas>
</body>

</html>
<script>
  // 太阳
  let sun;
  // 地球
  let earth;
  // 月球
  let moon;
  // 2d画布对象
  let ctx;
  // 初始化
  function init() {
    // 给太阳 地球 月球 添加图片 和 地址
    sun = new Image();
    earth = new Image();
    moon = new Image();
    sun.src = "sun.png";
    earth.src = "earth.png";
    moon.src = "moon.png";
    // 获取canvas对象
    let canvas = document.querySelector('canvas');
    ctx = canvas.getContext("2d");
    // 当太阳加载好的时候调用动画开始画
    sun.onload = function () {
      draw()
    }

  }
  init();
  // 动画主要部分
  function draw() {
    ctx.clearRect(0, 0, 300, 300); //清空所有的内容
    /*绘制 太阳*/
    // 参数 第一个参数 是 图片，二三参数是 坐标 四五参数是绘制的图片大小
    ctx.drawImage(sun, 0, 0, 300, 300);
    // 记录状态
    ctx.save();
    // 移动坐标位置
    ctx.translate(150, 150);

    //绘制earth轨道
    ctx.beginPath();
    ctx.strokeStyle = "rgba(255,255,0,0.5)";
    ctx.arc(0, 0, 100, 0, 2 * Math.PI)
    ctx.stroke()

    let time = new Date();
    //绘制地球
    ctx.rotate(2 * Math.PI / 60 * time.getSeconds() + 2 * Math.PI / 60000 * time.getMilliseconds())
    ctx.translate(100, 0);
    ctx.drawImage(earth, -12, -12)

    //绘制月球轨道
    ctx.beginPath();
    ctx.strokeStyle = "rgba(255,255,255,.3)";
    ctx.arc(0, 0, 40, 0, 2 * Math.PI);
    ctx.stroke();

    //绘制月球
    ctx.rotate(2 * Math.PI / 6 * time.getSeconds() + 2 * Math.PI / 6000 * time.getMilliseconds());
    ctx.translate(40, 0);
    ctx.drawImage(moon, -3.5, -3.5);
    ctx.restore();

    requestAnimationFrame(draw);
  }

</script>